Building DAG of jobs...
Job stats:
job           count    min threads    max threads
----------  -------  -------------  -------------
all               1              1              1
bam_to_wig        4              1              1
frag_filt         4              1              1
hg19_ichor        2              1              1
hg38_ichor        2              1              1
total            13              1              1


[Mon May 16 15:27:59 2022]
rule frag_filt:
    input: test/bam/lib001_hg19.bam
    output: test/frag-bam/lib001_hg19_frag90_150.nohead, test/frag-bam/lib001_hg19_frag90_150.onlyhead, test/frag-bam/lib001_hg19_frag90_150.bam
    jobid: 1
    wildcards: library_id=lib001_hg19, frag_distro=90_150
    resources: tmpdir=/tmp


        frag_min=$(echo 90_150 | sed -e "s/_.*$//g")
        frag_max=$(echo 90_150 | sed -e "s/^.*_//g")
        workflow/scripts/frag_filt.sh test/bam/lib001_hg19.bam                                       test/frag-bam/lib001_hg19_frag90_150.nohead                                       $frag_min                                       $frag_max                                       4                                       test/frag-bam/lib001_hg19_frag90_150.onlyhead                                       test/frag-bam/lib001_hg19_frag90_150.bam
        

[Mon May 16 15:27:59 2022]
rule frag_filt:
    input: test/bam/lib002_hg19.bam
    output: test/frag-bam/lib002_hg19_frag90_150.nohead, test/frag-bam/lib002_hg19_frag90_150.onlyhead, test/frag-bam/lib002_hg19_frag90_150.bam
    jobid: 2
    wildcards: library_id=lib002_hg19, frag_distro=90_150
    resources: tmpdir=/tmp


        frag_min=$(echo 90_150 | sed -e "s/_.*$//g")
        frag_max=$(echo 90_150 | sed -e "s/^.*_//g")
        workflow/scripts/frag_filt.sh test/bam/lib002_hg19.bam                                       test/frag-bam/lib002_hg19_frag90_150.nohead                                       $frag_min                                       $frag_max                                       4                                       test/frag-bam/lib002_hg19_frag90_150.onlyhead                                       test/frag-bam/lib002_hg19_frag90_150.bam
        

[Mon May 16 15:27:59 2022]
rule frag_filt:
    input: test/bam/lib003_hg38.bam
    output: test/frag-bam/lib003_hg38_frag90_150.nohead, test/frag-bam/lib003_hg38_frag90_150.onlyhead, test/frag-bam/lib003_hg38_frag90_150.bam
    jobid: 3
    wildcards: library_id=lib003_hg38, frag_distro=90_150
    resources: tmpdir=/tmp


        frag_min=$(echo 90_150 | sed -e "s/_.*$//g")
        frag_max=$(echo 90_150 | sed -e "s/^.*_//g")
        workflow/scripts/frag_filt.sh test/bam/lib003_hg38.bam                                       test/frag-bam/lib003_hg38_frag90_150.nohead                                       $frag_min                                       $frag_max                                       4                                       test/frag-bam/lib003_hg38_frag90_150.onlyhead                                       test/frag-bam/lib003_hg38_frag90_150.bam
        

[Mon May 16 15:27:59 2022]
rule frag_filt:
    input: test/bam/lib004_hg38.bam
    output: test/frag-bam/lib004_hg38_frag90_150.nohead, test/frag-bam/lib004_hg38_frag90_150.onlyhead, test/frag-bam/lib004_hg38_frag90_150.bam
    jobid: 4
    wildcards: library_id=lib004_hg38, frag_distro=90_150
    resources: tmpdir=/tmp


        frag_min=$(echo 90_150 | sed -e "s/_.*$//g")
        frag_max=$(echo 90_150 | sed -e "s/^.*_//g")
        workflow/scripts/frag_filt.sh test/bam/lib004_hg38.bam                                       test/frag-bam/lib004_hg38_frag90_150.nohead                                       $frag_min                                       $frag_max                                       4                                       test/frag-bam/lib004_hg38_frag90_150.onlyhead                                       test/frag-bam/lib004_hg38_frag90_150.bam
        

[Mon May 16 15:27:59 2022]
rule bam_to_wig:
    input: test/frag-bam/lib003_hg38_frag90_150.bam
    output: test/wig/lib003_hg38_frag90_150.wig
    jobid: 7
    wildcards: library_id=lib003_hg38, frag_distro=90_150
    resources: tmpdir=/tmp


        /opt/hmmcopy_utils/bin/readCounter --window 1000000 --quality 20         --chromosome chr1,chr2,chr3,chr4,chr5,chr6,chr7,chr8,chr9,chr10,chr11,chr12,chr13,chr14,chr15,chr16,chr17,chr18,chr19,chr20,chr21,chr22,chrX         test/frag-bam/lib003_hg38_frag90_150.bam > test/wig/lib003_hg38_frag90_150.wig
        

[Mon May 16 15:27:59 2022]
rule bam_to_wig:
    input: test/frag-bam/lib004_hg38_frag90_150.bam
    output: test/wig/lib004_hg38_frag90_150.wig
    jobid: 8
    wildcards: library_id=lib004_hg38, frag_distro=90_150
    resources: tmpdir=/tmp


        /opt/hmmcopy_utils/bin/readCounter --window 1000000 --quality 20         --chromosome chr1,chr2,chr3,chr4,chr5,chr6,chr7,chr8,chr9,chr10,chr11,chr12,chr13,chr14,chr15,chr16,chr17,chr18,chr19,chr20,chr21,chr22,chrX         test/frag-bam/lib004_hg38_frag90_150.bam > test/wig/lib004_hg38_frag90_150.wig
        

[Mon May 16 15:27:59 2022]
rule bam_to_wig:
    input: test/frag-bam/lib001_hg19_frag90_150.bam
    output: test/wig/lib001_hg19_frag90_150.wig
    jobid: 5
    wildcards: library_id=lib001_hg19, frag_distro=90_150
    resources: tmpdir=/tmp


        /opt/hmmcopy_utils/bin/readCounter --window 1000000 --quality 20         --chromosome chr1,chr2,chr3,chr4,chr5,chr6,chr7,chr8,chr9,chr10,chr11,chr12,chr13,chr14,chr15,chr16,chr17,chr18,chr19,chr20,chr21,chr22,chrX         test/frag-bam/lib001_hg19_frag90_150.bam > test/wig/lib001_hg19_frag90_150.wig
        

[Mon May 16 15:27:59 2022]
rule bam_to_wig:
    input: test/frag-bam/lib002_hg19_frag90_150.bam
    output: test/wig/lib002_hg19_frag90_150.wig
    jobid: 6
    wildcards: library_id=lib002_hg19, frag_distro=90_150
    resources: tmpdir=/tmp


        /opt/hmmcopy_utils/bin/readCounter --window 1000000 --quality 20         --chromosome chr1,chr2,chr3,chr4,chr5,chr6,chr7,chr8,chr9,chr10,chr11,chr12,chr13,chr14,chr15,chr16,chr17,chr18,chr19,chr20,chr21,chr22,chrX         test/frag-bam/lib002_hg19_frag90_150.bam > test/wig/lib002_hg19_frag90_150.wig
        

[Mon May 16 15:27:59 2022]
rule hg19_ichor:
    input: test/wig/lib002_hg19_frag90_150.wig
    output: test/ichor_hg19/lib002_hg19_frag90_150.cna.seg
    jobid: 10
    wildcards: library_id=lib002_hg19, frag_distro=90_150
    resources: tmpdir=/tmp

RuleException in line 75 of /home/jszymanski/repos/cfdna-cna/workflow/cfdna_wgs_cna.smk:
NameError: The name 'ichor_dir' is unknown in this context. Please make sure that you defined that variable. Also note that braces not used for variable access have to be escaped by repeating them, i.e. {{print $1}}
